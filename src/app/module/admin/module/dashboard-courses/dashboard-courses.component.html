<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 d-flex justify-content-between fs-xs flex-wrap">
                <h5>Courses</h5>
                <h5>Admin / All Courses</h5>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="card mb-3 bg-comman flex-fill p-1">
                    <div class="card-header d-flex align-items-center justify-content-between border-bottom-0 bg-white rounded fs-xs flex-wrap">
                      <h5 class="card-title">{{tablepanelsetting.paneltitle}}</h5>
                      <div class="d-flex justify-content-between gap-2">
                        <a role="button" class="btn btn-primary bg-ems-primary border-ems-primary w-100" *ngIf="tablepanelsetting.addrecord['viewactive']==true" (click)="openNew()"><i class="fas fa-plus"></i>{{tablepanelsetting.addrecord.label}}</a>
                        <a href="#" class="btn btn-primary bg-ems-primary border-ems-primary" *ngIf="tablepanelsetting.importrecord['viewactive']==true"><i class="fa-solid fa-upload"></i></a>
                        <button class="btn btn-primary bg-ems-primary border-ems-primary" icon="pi pi-filter-slash"
                          (click)="clear(dt)">Clear</button>
                        <input #inputd type="text" class="form-control" (input)="dt.filterGlobal(inputd.value, 'contains')"
                          placeholder="Search keyword" />
                      </div>
                    </div>
                    <div class="card-body">
                
                      <div class="table-responsive card-table" [style.height]="'700px'">
                
                        <p-table #dt [columns]="Tablecolumns"  [value]="Tablebodydatas" dataKey="id" styleClass="p-datatable-sm p-datatable-striped p-datatable-gridlines" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10, 25, 50]" [scrollable]="true" [responsive]="true" scrollHeight="flex"  
                        [virtualRowHeight]="11" [paginator]="true" [reorderableColumns]="true">
                          <ng-template pTemplate="header">
                              <tr>
                                <th style="width: 4rem">
                                  <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                                </th>
                                <th>S.NO</th>
                                <th pSortableColumn="{{ col.header }}" style="width:20%" *ngFor="let col of Tablecolumns">{{ col.header }}</th>
                                <th>Action</th>
                              </tr>
                          </ng-template>
                          <ng-template pTemplate="body" let-rowData let-i="rowIndex">
                            <tr>
                              <td>
                                <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                             </td>
                             <td>{{i+1}}</td>
                                <td *ngFor="let col of Tablecolumns" [ngSwitch]="true">
                                  <span *ngSwitchCase="col.formattype==='image'">
                                    <img src="{{rowData[col.field]}}" alt="" width="100" class="shadow-4 rounded">
                                  </span>
                                  <span *ngSwitchDefault>
                                  {{ rowData[col.field]}}
                                 </span>
                                </td>
                              
                                <td>
                                  <div class="actions">
                                    <a class="btn btn-sm bg-success-light me-2" (click)="viewProduct(rowData)" [hidden]="true">
                                      <i class="fa-regular fa-eye"></i>
                                    </a>
                                    <a  class="btn btn-sm bg-danger-light" (click)="editProduct(rowData)">
                                      <i class="fa-regular fa-pen-to-square"></i>
                                    </a>
                                    <a  class="btn btn-sm bg-danger-light text-danger" (click)="deleteProduct(rowData)">
                                      <i class="fa-solid fa-trash-can"></i>
                                    </a>
                                   
                                  </div>
                                </td>
                            </tr>
                        </ng-template>
                          
                      </p-table>
                      </div>
                    </div>
                  </div>
                <!--form datat-->
                <p-dialog header="{{formdynamicconfig.title}}" [(visible)]="productDialog" styleClass="bg-comman border-primary">
                
                 
                     <form class="row needs-validation bg-white" #savenewproductform="ngForm" (ngSubmit)="this[dyfunform](savenewproductform,tempfile,formdata.id)" ngNativeValidate>
                      <div *ngFor="let grid of formconfig.grid" class="col-md-{{grid['colsize']}} mb-4">
                        <div *ngFor="let cd of formconfig.fields;let i=index">
                            <div class="p-fluid mb-4" *ngIf="grid.colname==cd.colname">
                                <label>{{cd.label}} <span class="login-danger">*</span></label>
                                <input class="form-control py-2" type="{{cd.type}}" [(ngModel)]="formdata[cd.name]" name="{{cd.name}}" required *ngIf="cd.elementtype=='input'">
                                <select class="form-select py-2" id="validationCustom04" required *ngIf="cd.elementtype=='dropdown'" [(ngModel)]="formdata[cd.name]"  name="{{cd.name}}">
                                    <option selected disabled >...</option>
                                    <option *ngFor="let value of cd.value">{{value}}</option>
                                </select>
                                <input type="file" #myInput class="form-control" id="{{cd.name}}" name="{{cd.name}}"  [(ngModel)]="formdata[cd.name]" (change)="onFileSelected($event)" *ngIf="cd.elementtype=='file'">
                                
                            </div>
                        </div>
                    </div>
                         <div class="col-12">
                             <button class="btn btn-primary bg-ems-primary border-ems-primary py-sm-2 px-sm5 me-2" type="submit">{{formdynamicconfig.buttonlabel}}</button>
                         </div>
                     </form>
                
                 
                 </p-dialog>
                <p-dialog [(visible)]="viewDialog" styleClass="bg-comman border-success">
                
                  <div class="container">
                    <dl class="row">
                        <dt class="col-sm-3">Description lists</dt>
                        <dd class="col-sm-9">A description list is perfect for defining terms.</dd>
                      
                        <dt class="col-sm-3">Term</dt>
                        <dd class="col-sm-9">
                          <p>Definition for the term.</p>
                          <p>And some more placeholder definition text.</p>
                        </dd>
                      
                        <dt class="col-sm-3">Another term</dt>
                        <dd class="col-sm-9">This definition is short, so no extra paragraphs or anything.</dd>
                      
                        <dt class="col-sm-3 text-truncate">Truncated term is truncated</dt>
                        <dd class="col-sm-9">This can be useful when space is tight. Adds an ellipsis at the end.</dd>
                      
                        
                      </dl>
                  </div>
                
                </p-dialog>
                 <p-toast></p-toast>
                 <p-confirmDialog></p-confirmDialog>
            </div>
        </div>
    </div>
</section>
